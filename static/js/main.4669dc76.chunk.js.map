{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","images/edit-avatar.svg","components/Card.js","components/Main.js","components/Footer.js","utils/constants.js","components/ImagePopup.js","utils/api.js","utils/FormValidator.js","components/PopupWithForm.js","utils/utils.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","card","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","name","link","onClick","onCardClick","type","onCardLike","length","onCardDelete","Main","cards","onHoverAvatar","isHover","isVisible","onEditAvatar","onEditProfile","onAddPlace","cardClickImgOpen","data","isCardOpen","cardsItems","map","item","onMouseOver","onMouseOut","avatar","editAvatar","about","Footer","popupOpened","config","formSelector","inputSelector","submitButtonSelector","inputErrorClass","errorActiveClass","ImagePopup","isOpen","handleOverlay","onClose","api","options","this","_headers","headers","_url","baseUrl","res","ok","json","Promise","reject","status","fetch","then","_handleResponse","inputsValue","method","body","JSON","stringify","cardId","authorization","FormValidator","formElement","_config","_formElement","_inputList","Array","from","querySelectorAll","_buttonElement","querySelector","_setEventListeners","addEventListener","evt","preventDefault","forEach","inputElement","_checkInputValidity","toggleButtonState","validity","valid","hideInputError","_showInputError","errorElement","id","classList","remove","textContent","add","validationMessage","_hasInvalidInput","disabled","PopupWithForm","formRef","useRef","useEffect","current","enableValidation","title","ref","onSubmit","children","buttonText","contentPopupAvatar","avatarRef","placeholder","required","contentPopupProfile","description","handleChange","minLength","maxLength","value","onChange","contentPopupAddPlace","nameCardRef","linkCardRef","EditProfilePopup","useState","setName","setDescription","setButtonText","target","e","onUpdateUser","EditAvatarPopup","onUpdateAvatar","ConfirmPopup","onConfirm","App","setCurrentUser","setCards","currentCard","setCurrentCard","getInitialCards","cardsData","catch","err","alert","getUserData","userdata","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","isHoverAvatar","setIsHoverAvatar","isVisibleEditAvatar","setIsVisibleEditAvatar","handleEscClosePopup","keyCode","closeAllPopups","handleOverlayClick","currentTarget","document","removeEventListener","Provider","changeLikeCardStatus","newCard","state","c","editProfile","form","reset","AddPlacePopup","addNewCardServer","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"kLAAe,MAA0B,iC,OCU1BA,MARf,WACI,OACI,wBAAQC,UAAU,SAAlB,SACM,qBAAKC,IAAKC,EAAMC,IAAI,6CAAUH,UAAU,oBCJzCI,EAAqBC,IAAMC,gBCDzB,MAA0B,wCCGlC,SAASC,EAAKC,GACnB,IAAMC,EAAcJ,IAAMK,WAAWN,GAC7BO,EAASH,EAATG,KAEFC,EAAQD,EAAKE,MAAMC,MAAQL,EAAYK,IAEvCC,EAAUJ,EAAKK,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,MAAQL,EAAYK,OAErDK,EAAyB,8BAC7BP,EAAQ,8BAAgC,8BAGpCQ,EAAuB,yBAAqBL,GAAW,yBAY7D,OACE,sBAAKf,UAAU,kBAAf,UACE,qBACEA,UAAU,kBACVG,IAAKQ,EAAKU,KACVpB,IAAKU,EAAKW,KACVC,QAjBN,WACEf,EAAMgB,YAAYb,MAkBhB,sBAAKX,UAAU,sBAAf,UACE,oBAAIA,UAAU,kBAAd,SAAiCW,EAAKU,OACtC,sBAAKrB,UAAU,sBAAf,UACE,wBAAQyB,KAAK,SAASF,QAlB9B,WACIf,EAAMkB,WAAWf,IAiBmCX,UAAWoB,IAC3D,mBAAGpB,UAAU,uBAAb,SAAqCW,EAAKK,MAAMW,eAGpD,wBAAQF,KAAK,SAASF,QAlB1B,WACIf,EAAMoB,aAAajB,IAiB+BX,UAAWmB,OC2BpDU,MAhEf,SAAcrB,GAEZ,IAAOsB,EAA+GtB,EAA/GsB,MAAOF,EAAwGpB,EAAxGoB,aAAcF,EAA0FlB,EAA1FkB,WAAYK,EAA8EvB,EAA9EuB,cAAeC,EAA+DxB,EAA/DwB,QAASC,EAAsDzB,EAAtDyB,UAAWC,EAA2C1B,EAA3C0B,aAAcC,EAA6B3B,EAA7B2B,cAAeC,EAAc5B,EAAd4B,WAElG3B,EAAcJ,IAAMK,WAAWN,GACrC,SAASiC,EAAiBC,GACxB9B,EAAM+B,WAAWD,GAInB,IAAME,EAAaV,EAAMW,KAAI,SAAAC,GAC3B,OAAO,cAACnC,EAAD,CAAqBI,KAAM+B,EAAMd,aAAcA,EAAcF,WAAYA,EAAYF,YAAaa,GAAvFK,EAAK5B,QAGzB,OACE,uBAAMd,UAAU,0BAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,qBAAf,UACE,sBACEA,UAAU,kBACV2C,YAAaZ,EACba,WAAYb,EAHd,UAKE,qBACE9B,IAAKQ,EAAYoC,OACjB1C,IAAI,uCACJH,UAAS,0BACNgC,EAAW,0BAA8B,MAG9C,qBACE/B,IAAK6C,EACL3C,IAAI,wFACJH,UAAS,+BACNiC,EAAa,+BAAmC,IAEnDV,QAASW,OAGb,sBAAKlC,UAAU,gBAAf,UACE,sBAAKA,UAAU,wBAAf,UACE,oBAAIA,UAAU,oBAAd,SAAmCS,EAAYY,OAC/C,wBACEI,KAAK,SACLzB,UAAU,oBACVuB,QAASY,OAGb,mBAAGnC,UAAU,gBAAb,SAA8BS,EAAYsC,cAG9C,wBACEtB,KAAK,SACLzB,UAAU,mBACVuB,QAASa,OAGb,yBAASpC,UAAU,WAAnB,SACoB,IAAjB8B,EAAMH,QAAgB,mCAAGa,UCvDnBQ,MARf,WACI,OACI,wBAAQhD,UAAU,yBAAlB,SACM,mBAAGA,UAAU,oBAAb,uCCFDiD,EAAc,eAUdC,EAAS,CACpBC,aAAc,eACdC,cAAe,gBACfC,qBAAsB,eACtBC,gBAAiB,0BACjBC,iBAAkB,6BCELC,MAhBf,SAAqBhD,GACjB,OACI,qBAAKR,UAAS,0BAAsBQ,EAAMiD,OAAUR,EAAgB,IAAM1B,QAASf,EAAMkD,cAAzF,SACE,sBAAK1D,UAAU,uBAAf,UACE,qBAAKA,UAAU,mBAAmBC,IAAKO,EAAMG,KAAKW,KAAMnB,IAAKK,EAAMG,KAAKU,OACxE,oBAAIrB,UAAU,mBAAd,SAAkCQ,EAAMG,KAAKU,OAC7C,wBACEI,KAAK,SACLzB,UAAU,6BACVuB,QAASf,EAAMmD,gB,cC+EdC,EADH,IAvFZ,WACE,WAAYC,GAAU,oBACpBC,KAAKC,SAAWF,EAAQG,QACxBF,KAAKG,KAAOJ,EAAQK,QAHxB,mDAME,SAAgBC,GACd,OAAIA,EAAIC,GACCD,EAAIE,OAGNC,QAAQC,OAAR,gDAA0BJ,EAAIK,OAA9B,mEAXX,6BAcE,WACE,OAAOC,MAAM,GAAD,OAAIX,KAAKG,KAAT,UAAuB,CACjCD,QAASF,KAAKC,WACbW,KAAKZ,KAAKa,mBAjBjB,yBAoBE,WACE,OAAOF,MAAM,GAAD,OAAIX,KAAKG,KAAT,aAA0B,CACpCD,QAASF,KAAKC,WACbW,KAAKZ,KAAKa,mBAvBjB,yBA0BE,SAAYC,GACV,OAAOH,MAAM,GAAD,OAAIX,KAAKG,KAAT,aAA0B,CACpCY,OAAQ,QACRb,QAASF,KAAKC,SACde,KAAMC,KAAKC,UAAU,CACnB3D,KAAMuD,EAAYvD,KAClB0B,MAAO6B,EAAY7B,UAEpB2B,KAAKZ,KAAKa,mBAlCjB,wBAqCE,SAAWC,GACT,OAAOH,MAAM,GAAD,OAAIX,KAAKG,KAAT,oBAAiC,CAC3CY,OAAQ,QACRb,QAASF,KAAKC,SACde,KAAMC,KAAKC,UAAU,CACnBnC,OAAQ+B,EAAY/B,WAErB6B,KAAKZ,KAAKa,mBA5CjB,8BA+CE,SAAiBC,GACf,OAAOH,MAAM,GAAD,OAAIX,KAAKG,KAAT,UAAuB,CACjCY,OAAQ,OACRb,QAASF,KAAKC,SACde,KAAMC,KAAKC,UAAU,CACnB3D,KAAMuD,EAAYvD,KAClBC,KAAMsD,EAAYtD,SAEnBoD,KAAKZ,KAAKa,mBAvDjB,yBA0DE,SAAYM,GACV,OAAOR,MAAM,GAAD,OAAIX,KAAKG,KAAT,wBAA6BgB,GAAU,CACjDJ,OAAQ,MACRb,QAASF,KAAKC,WACbW,KAAKZ,KAAKa,mBA9DjB,4BAiEE,SAAeM,GACb,OAAOR,MAAM,GAAD,OAAIX,KAAKG,KAAT,wBAA6BgB,GAAU,CACjDJ,OAAQ,SACRb,QAASF,KAAKC,WACbW,KAAKZ,KAAKa,mBArEjB,kCAwEE,SAAqBM,EAAQlE,GAC3B,OAAO0D,MAAM,GAAD,OAAIX,KAAKG,KAAT,wBAA6BgB,GAAU,CACjDJ,OAAQ9D,EAAU,MAAQ,SAC1BiD,QAASF,KAAKC,WACbW,KAAKZ,KAAKa,mBA5EjB,wBA+EE,SAAWM,GACT,OAAOR,MAAM,GAAD,OAAIX,KAAKG,KAAT,kBAAuBgB,GAAU,CAC3CJ,OAAQ,SACRb,QAASF,KAAKC,WACbW,KAAKZ,KAAKa,qBAnFjB,KAuFY,CFtFc,CACtBT,QAAS,8CACTF,QAAS,CACPkB,cAAe,uCACf,eAAgB,sBGPDC,E,WACnB,WAAYjC,EAAQkC,GAAc,oBAChCtB,KAAKuB,QAAUnC,EACfY,KAAKwB,aAAeF,EACpBtB,KAAKyB,WAAaC,MAAMC,KACtB3B,KAAKwB,aAAaI,iBAAiB5B,KAAKuB,QAAQjC,gBAElDU,KAAK6B,eAAiB7B,KAAKwB,aAAaM,cACtC9B,KAAKuB,QAAQhC,sB,oDAIjB,WACES,KAAK+B,uB,gCAGP,WAAsB,IAAD,OACnB/B,KAAKwB,aAAaQ,iBAAiB,UAAU,SAACC,GAC5CA,EAAIC,oBAGNlC,KAAKyB,WAAWU,SAAQ,SAACC,GACvBA,EAAaJ,iBAAiB,SAAS,WACrC,EAAKK,oBAAoBD,GACzB,EAAKE,0BAITtC,KAAKsC,sB,iCAGP,SAAoBF,GACdA,EAAaG,SAASC,MACxBxC,KAAKyC,eAAeL,GAEpBpC,KAAK0C,gBAAgBN,K,4BAIzB,SAAeA,GACb,IAAMO,EAAe3C,KAAKwB,aAAaM,cAAlB,WACfM,EAAaQ,GADE,WAGrBR,EAAaS,UAAUC,OAAO9C,KAAKuB,QAAQ/B,iBAC3CmD,EAAaE,UAAUC,OAAO9C,KAAKuB,QAAQ9B,kBAC3CkD,EAAaI,YAAc,K,6BAG7B,SAAgBX,GACd,IAAMO,EAAe3C,KAAKwB,aAAaM,cAAlB,WACfM,EAAaQ,GADE,WAGrBR,EAAaS,UAAUG,IAAIhD,KAAKuB,QAAQ/B,iBACxCmD,EAAaI,YAAcX,EAAaa,kBACxCN,EAAaE,UAAUG,IAAIhD,KAAKuB,QAAQ9B,oB,8BAG1C,WACE,OAAOO,KAAKyB,WAAWtE,MAAK,SAACiF,GAAD,OAAmBA,EAAaG,SAASC,W,+BAGvE,WACMxC,KAAKkD,iBAAiBlD,KAAKyB,YAC7BzB,KAAK6B,eAAesB,UAAW,EAE/BnD,KAAK6B,eAAesB,UAAW,M,KCpBtBC,MAxCf,SAAuB1G,GACrB,IAAM2G,EAAU9G,IAAM+G,SAOtB,OALA/G,IAAMgH,WAAU,WACI,IAAIlC,EAAcjC,EAAQiE,EAAQG,SAC1CC,qBACT,IAGD,qBACEvH,UAAS,sBAAiBQ,EAAMa,KAAvB,YACNb,EAAMiD,OAAUR,EAAgB,IAEnC1B,QAASf,EAAMkD,cAJjB,SAME,sBAAK1D,UAAU,qCAAf,UACE,wBACEyB,KAAK,SACLzB,UAAU,eACVuB,QAASf,EAAMmD,UAEjB,oBAAI3D,UAAU,eAAd,SAA8BQ,EAAMgH,QAEpC,uBACEC,IAAKN,EACLO,SAAUlH,EAAMkH,SAChB1H,UAAS,2BAAsBQ,EAAMa,MACrCA,KAAI,eAAUb,EAAMa,MAJtB,UAMGb,EAAMmH,SAEP,wBAAQlG,KAAK,SAASJ,KAAK,SAASrB,UAAU,cAA9C,SACGQ,EAAMoH,sBCrCZ,SAASC,EAAmBC,GACjC,OACE,mCACE,2BAAU9H,UAAU,kBAApB,UACE,uBACEyB,KAAK,MACLJ,KAAK,OACLqF,GAAG,oBACHqB,YAAY,yFACZ/H,UAAU,uCACVyH,IAAKK,EACLE,UAAQ,IAEV,sBACEhI,UAAU,qBACV0G,GAAG,iCAON,SAASuB,EAAoB5G,EAAM6G,EAAaC,GACrD,OACE,qCACE,2BAAUnI,UAAU,kBAApB,UACE,uBACEyB,KAAK,OACLJ,KAAK,OACLqF,GAAG,qBACHqB,YAAY,qBACZ/H,UAAU,2CACVoI,UAAU,IACVC,UAAU,KACVC,MAAOjH,GAAQ,GACfkH,SAAUJ,EACVH,UAAQ,IAEV,sBACEhI,UAAU,qBACV0G,GAAG,gCAGP,2BAAU1G,UAAU,kBAApB,UACE,uBACEyB,KAAK,OACLJ,KAAK,OACLqF,GAAG,qBACHqB,YAAY,kCACZ/H,UAAU,uCACVoI,UAAU,IACVC,UAAU,MACVC,MAAOJ,GAAgB,GACvBK,SAAUJ,EACVH,UAAQ,IAEV,sBACEhI,UAAU,qBACV0G,GAAG,mCAON,SAAS8B,EAAqBC,EAAaC,GAChD,OACE,qCACE,2BAAU1I,UAAU,kBAApB,UACE,uBACEyB,KAAK,OACLJ,KAAK,OACLqF,GAAG,sBACHqB,YAAY,mDACZ/H,UAAU,4CACVoI,UAAU,IACVC,UAAU,KACVZ,IAAOgB,EACPT,UAAQ,IAEV,sBACEhI,UAAU,qBACV0G,GAAG,iCAGP,2BAAU1G,UAAU,kBAApB,UACE,uBACEyB,KAAK,MACLJ,KAAK,OACLqF,GAAG,sBACHqB,YAAY,qGACZ/H,UAAU,uCACVyH,IAAKiB,EACLV,UAAQ,IAEV,sBACEhI,UAAU,qBACV0G,GAAG,oCC/CEiC,MA5Cf,SAA0BnI,GACxB,IAAMC,EAAcJ,IAAMK,WAAWN,GACrC,EAAwBC,IAAMuI,SAAS,IAAvC,mBAAOvH,EAAP,KAAawH,EAAb,KACA,EAAsCxI,IAAMuI,SAAS,IAArD,mBAAOV,EAAP,KAAoBY,EAApB,KACQrF,EAAmCjD,EAAnCiD,OAAQE,EAA2BnD,EAA3BmD,QAASD,EAAkBlD,EAAlBkD,cACzB,EAAoCrD,IAAMuI,SAAS,0DAAnD,mBAAOhB,EAAP,KAAmBmB,EAAnB,KAyBA,OAvBA1I,IAAMgH,WAAU,WACdwB,EAAQpI,EAAYY,MACpByH,EAAerI,EAAYsC,SAC1B,CAACtC,IAqBF,cAAC,EAAD,CACEY,KAAK,UACLmG,MAAM,4HACN/D,OAAQA,EACRE,QAASA,EACTgE,SAAUM,EAAoB5G,EAAM6G,GAxBxC,SAAsBnC,GACA,SAApBA,EAAIiD,OAAO3H,KACPwH,EAAQ9C,EAAIiD,OAAOV,OACnBQ,EAAe/C,EAAIiD,OAAOV,UAsB5B5E,cAAeA,EACfkE,WAAYA,EACZF,SArBJ,SAAsBuB,GACpBA,EAAEjD,iBACF+C,EAAc,mEACdvI,EAAM0I,aACJ,CACE7H,OACA0B,MAAOmF,GAETa,OCGSI,MAhCf,SAAyB3I,GACvB,IAAMsH,EAAYzH,IAAM+G,SACxB,EAAoC/G,IAAMuI,SAAS,0DAAnD,mBAAOhB,EAAP,KAAmBmB,EAAnB,KAEQtF,EAAmCjD,EAAnCiD,OAAQE,EAA2BnD,EAA3BmD,QAASD,EAAkBlD,EAAlBkD,cAczB,OACE,cAAC,EAAD,CACErC,KAAK,SACLmG,MAAM,wFACN/D,OAAQA,EACRE,QAASA,EACTgE,SAAUE,EAAmBC,GAC7BpE,cAAeA,EACfkE,WAAYA,EACZF,SArBJ,SAAsBuB,GACpBA,EAAEjD,iBACF+C,EAAc,mEACdvI,EAAM4I,eACJ,CACEvG,OAAQiF,EAAUR,QAAQgB,OAE5BS,EACAE,EAAED,YCoBOG,MAjCf,SAAyB3I,GACvB,IAAMiI,EAAcpI,IAAM+G,SACpBsB,EAAcrI,IAAM+G,SAC1B,EAAoC/G,IAAMuI,SAAS,8CAAnD,mBAAOhB,EAAP,KAAmBmB,EAAnB,KACQtF,EAAmCjD,EAAnCiD,OAAQE,EAA2BnD,EAA3BmD,QAASD,EAAkBlD,EAAlBkD,cAezB,OACE,cAAC,EAAD,CACErC,KAAK,WACLmG,MAAM,gEACN/D,OAAQA,EACRE,QAASA,EACTgE,SAAUa,EAAqBC,EAAaC,GAC5ChF,cAAeA,EACfkE,WAAYA,EACZF,SAtBJ,SAAsBuB,GACpBA,EAAEjD,iBACF+C,EAAc,uDACdvI,EAAM4B,WACJ,CACEf,KAAMoH,EAAYnB,QAAQgB,MAC1BhH,KAAMoH,EAAYpB,QAAQgB,OAE5BS,EACAE,EAAED,YCOOK,MAvBf,SAAsB7I,GACpB,MAAoCH,IAAMuI,SAAS,gBAAnD,mBAAOhB,EAAP,KAAmBmB,EAAnB,KAEQtF,EAAmCjD,EAAnCiD,OAAQE,EAA2BnD,EAA3BmD,QAASD,EAAkBlD,EAAlBkD,cAOzB,OACE,cAAC,EAAD,CACErC,KAAK,UACLmG,MAAM,2DACNI,WAAYA,EACZnE,OAAQA,EACRE,QAASA,EACTD,cAAeA,EACfgE,SAbJ,SAAsBuB,GACpBA,EAAEjD,iBACFxF,EAAM8I,UAAUL,EAAED,OAAQD,OC2NfQ,MAvNf,WACE,MAAsClJ,IAAMuI,SAAS,IAArD,mBAAOnI,EAAP,KAAoB+I,EAApB,KAEA,EAA0BnJ,IAAMuI,SAAS,IAAzC,mBAAO9G,EAAP,KAAc2H,EAAd,KACA,EAAsCpJ,IAAMuI,SAAS,IAArD,mBAAOc,EAAP,KAAoBC,EAApB,KAEAtJ,IAAMgH,WACJ,kBACEzD,EACGgG,kBACAlF,MAAK,SAACmF,GAAD,OAAeJ,EAASI,MAC7BC,OAAM,SAACC,GAAD,OAASC,MAAMD,QAC1B,IAmCF1J,IAAMgH,WAAU,WACdzD,EACGqG,cACAvF,MAAK,SAACwF,GAAD,OAAcV,EAAeU,MAClCJ,OAAM,SAACC,GAAD,OAASC,MAAMD,QACvB,IAEH,MACE1J,IAAMuI,UAAS,GADjB,mBAAOuB,EAAP,KAA8BC,EAA9B,KAEA,EACE/J,IAAMuI,UAAS,GADjB,mBAAOyB,EAAP,KAA+BC,EAA/B,KAEA,EAAsDjK,IAAMuI,UAAS,GAArE,mBAAO2B,EAAP,KAA4BC,EAA5B,KACA,EAAoDnK,IAAMuI,UAAS,GAAnE,mBAAO6B,EAAP,KAA2BC,EAA3B,KACA,EAAwCrK,IAAMuI,SAAS,CACrDvH,KAAM,GACNC,KAAM,KAFR,mBAAOqJ,EAAP,KAAqBC,EAArB,KAKA,EAA0CvK,IAAMuI,UAAS,GAAzD,mBAAOiC,EAAP,KAAsBC,EAAtB,KACA,EAAsDzK,IAAMuI,UAAS,GAArE,mBAAOmC,EAAP,KAA4BC,EAA5B,KAcA,SAASC,GAAoBlF,GV9FL,KU+FtBA,EAAImF,SAA0BC,KAOhC,SAASA,KACPd,GACEC,GAA2BD,GAC7BF,GAAyBC,GAA0BD,GACnDI,GAAuBC,GAAwBD,GAC/CE,GAAsBC,GAAuBD,GAC7CE,EAAarJ,MAAQsJ,EAAgB,CAAEvJ,KAAM,GAAIC,KAAM,KAQzD,SAAS8J,GAAmBrF,GAC1BA,EAAIiD,SAAWjD,EAAIsF,eAAiBF,KAyDtC,OAVA9K,IAAMgH,WAAU,WAOd,OANCgD,GACCF,GACAI,GACsB,KAAtBI,EAAatJ,OACbiK,SAASxF,iBAAiB,UAAWmF,IAEhC,kBAAMK,SAASC,oBAAoB,UAAWN,QAIrD,cAAC7K,EAAmBoL,SAApB,CAA6BlD,MAAO7H,EAApC,SACE,qBAAKT,UAAU,OAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CACEuC,WAlFV,SAAyBD,GACvBsI,EAAgB,CAAEtJ,KAAMgB,EAAKhB,KAAMD,KAAMiB,EAAKjB,QAkFtCc,cA/FV,WACEmI,GAA2BD,IA+FnBnI,aApGV,WACEkI,GAA0BD,IAoGlB/H,WA7FV,WACEoI,GAAwBD,IA6FhBxI,cAzEV,WACEiJ,GAAwBD,GACxBD,GAAkBD,IAwEV7I,QAAS6I,EACT5I,UAAW8I,EACXnJ,aAnIV,SAA0BjB,GACxB+J,GAAuBD,GACvBd,EAAehJ,IAkIPe,WA/JV,SAAwBf,GACtB,IAAMI,EAAUJ,EAAKK,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEJ,MAAQL,EAAYK,OAC7D8C,EACG6H,qBAAqB9K,EAAKG,KAAMC,GAChC2D,MAAK,SAACgH,GAAD,OACJjC,GAAS,SAACkC,GAAD,OACPA,EAAMlJ,KAAI,SAACmJ,GAAD,OAAQA,EAAE9K,MAAQH,EAAKG,IAAM4K,EAAUE,YA0J/C9J,MAAOA,IAET,cAAC,EAAD,IACA,cAAC,EAAD,CACE2B,OAAQ4G,EACR1G,QAASwH,GACTjC,aA3EV,SAA0B5G,EAAMyG,GAC9BnF,EACGiI,YAAYvJ,GACZoC,MAAK,SAACP,GACLqF,EAAerF,GACfgH,KACApC,EAAc,6DAEfe,OAAM,SAACC,GACNC,MAAMD,GACNhB,EAAc,8DAkEVrF,cAAe0H,KAEjB,cAAC,EAAD,CACE3H,OAAQ0G,EACRxG,QAASwH,GACTzH,cAAe0H,GACfhC,eApEV,SAA4B9G,EAAMyG,EAAe+C,GAC/ClI,EACGd,WAAWR,GACXoC,MAAK,SAACP,GACLqF,EAAerF,GACfgH,KACAW,EAAKC,QACLhD,EAAc,6DAEfe,OAAM,SAACC,GACNC,MAAMD,GACNhB,EAAc,gEA4DZ,cAACiD,EAAD,CACEvI,OAAQ8G,EACR5G,QAASwH,GACTzH,cAAe0H,GACfhJ,WA5DV,SAA8BE,EAAMyG,EAAe+C,GACjDlI,EACGqI,iBAAiB3J,GACjBoC,MAAK,SAACP,GACLsF,EAAS,CAACtF,GAAF,mBAAUrC,KAClBqJ,KACAW,EAAKC,QACLhD,EAAc,iDAEfe,OAAM,SAACC,GACNC,MAAMD,GACNhB,EAAc,oDAmDZ,cAAC,EAAD,CACEpF,QAASwH,GACTxK,KAAMgK,EACNlH,OAAQkH,EAAarJ,KACrBoC,cAAe0H,KAEjB,cAAC,EAAD,CACE3H,OAAQgH,EACR9G,QAASwH,GACTzH,cAAe0H,GACf9B,UArLV,SAA4BwC,EAAM/C,GAChCA,EAAc,uDAEdnF,EACGsI,WAAWxC,EAAY5I,KACvB4D,MAAK,WACJ+E,EAAS3H,EAAMqK,QAAO,SAACP,GAAD,OAAOA,EAAE9K,MAAQ4I,EAAY5I,QACnDqK,KACApC,EAAc,mBAEfe,OAAM,SAACC,GACNC,MAAMD,GACNhB,EAAc,8BCxCPqD,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB5H,MAAK,YAAkD,IAA/C6H,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFxB,SAASyB,eAAe,SAM1BX,K","file":"static/js/main.4669dc76.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from '../images/logo.svg'\r\n\r\nfunction Header () {\r\n    return (\r\n        <header className=\"header\">\r\n              <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\r\n          </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from \"react\"\r\nexport const CurrentUserContext = React.createContext()","export default __webpack_public_path__ + \"static/media/edit-avatar.a086f758.svg\";","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport function Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const { card } = props;\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardDeleteButtonClassName = `elements__trash-btn ${\r\n    isOwn ? \"elements__trash-btn_visible\" : \"elements__trash-btn_hidden\"\r\n  }`;\r\n\r\n  const cardLikeButtonClassName = `elements__like ${isLiked && 'elements__like_active'}`\r\n  function handleClick() {\r\n    props.onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick () {\r\n      props.onCardLike(card)\r\n  }\r\n\r\n  function handleDeleteClick () {\r\n      props.onCardDelete(card)\r\n  }\r\n  return (\r\n    <div className=\"elements__place\">\r\n      <img\r\n        className=\"elements__photo\"\r\n        alt={card.name}\r\n        src={card.link}\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"elements__name-like\">\r\n        <h2 className=\"elements__title\">{card.name}</h2>\r\n        <div className=\"elements__info-like\">\r\n          <button type=\"button\" onClick={handleLikeClick} className={cardLikeButtonClassName}></button>\r\n          <p className=\"elements__like-value\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n      <button type=\"button\" onClick={handleDeleteClick} className={cardDeleteButtonClassName}></button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport editAvatar from \"../images/edit-avatar.svg\";\r\nimport { Card } from \"./Card\";\r\n\r\nfunction Main(props) {\r\n\r\n  const {cards, onCardDelete, onCardLike, onHoverAvatar, isHover, isVisible, onEditAvatar, onEditProfile, onAddPlace} = props\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  function cardClickImgOpen(data) {\r\n    props.isCardOpen(data);\r\n  }\r\n  \r\n\r\n  const cardsItems = cards.map(item => {\r\n    return <Card key={item._id} card={item} onCardDelete={onCardDelete} onCardLike={onCardLike} onCardClick={cardClickImgOpen} />;\r\n  });\r\n\r\n  return (\r\n    <main className=\"content page__container\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__container\">\r\n          <div\r\n            className=\"profile__change\"\r\n            onMouseOver={onHoverAvatar}\r\n            onMouseOut={onHoverAvatar}\r\n          >\r\n            <img\r\n              src={currentUser.avatar}\r\n              alt=\"Аватар\"\r\n              className={`profile__avatar ${\r\n                (isHover && \"profile__avatar_opacity\") || \"\"\r\n              }`}\r\n            />\r\n            <img\r\n              src={editAvatar}\r\n              alt=\"Изменить аватар\"\r\n              className={`profile__edit-avatar ${\r\n                (isVisible && \"profile__edit-avatar_visible\") || \"\"\r\n              }`}\r\n              onClick={onEditAvatar}\r\n            />\r\n          </div>\r\n          <div className=\"profile__into\">\r\n            <div className=\"profile__username-btn\">\r\n              <h1 className=\"profile__username\">{currentUser.name}</h1>\r\n              <button\r\n                type=\"button\"\r\n                className=\"profile__edit-btn\"\r\n                onClick={onEditProfile}\r\n              ></button>\r\n            </div>\r\n            <p className=\"profile__info\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-btn\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        {cards.length !== 0 && <>{cardsItems}</>}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer () {\r\n    return (\r\n        <footer className=\"footer page__container\">\r\n              <p className=\"footer__copyright\">© 2021 Mesto Russia</p>\r\n          </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","export const codeEscape = 27;\r\nexport const popupOpened = \"popup_opened\";\r\n\r\nexport const apiRequest = {\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-25',\r\n    headers: {\r\n      authorization: 'ae96c89c-0c63-4b1c-b822-1b0fac9d9184',\r\n      'Content-Type': 'application/json',\r\n    }\r\n}\r\n\r\nexport const config = {\r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__save',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorActiveClass: 'popup__input-error_active',\r\n}; ","import {popupOpened} from '../utils/constants'\r\n\r\nfunction ImagePopup (props) {\r\n    return (\r\n        <div className={`popup-img popup ${(props.isOpen && popupOpened) || ''}`} onClick={props.handleOverlay}>\r\n          <div className=\"popup-img__container\">\r\n            <img className=\"popup-img__image\" src={props.card.link} alt={props.card.name}/>\r\n            <h2 className=\"popup-img__title\">{props.card.name}</h2>\r\n            <button\r\n              type=\"button\"\r\n              className=\"popup-img__close close-btn\"\r\n              onClick={props.onClose}\r\n            ></button>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","import { apiRequest } from \"./constants\";\r\n\r\nexport class Api {\r\n  constructor(options) {\r\n    this._headers = options.headers;\r\n    this._url = options.baseUrl;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(`Ошибка: ${res.status}, проверьте URL`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  getUserData() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  editProfile(inputsValue) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: inputsValue.name,\r\n        about: inputsValue.about,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  editAvatar(inputsValue) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: inputsValue.avatar,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  addNewCardServer(inputsValue) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: inputsValue.name,\r\n        link: inputsValue.link,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  putLikeCard(cardId) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  deleteLikeCard(cardId) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: isLiked ? 'PUT' : 'DELETE',\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api(apiRequest);\r\nexport default api","export default class FormValidator {\r\n  constructor(config, formElement) {\r\n    this._config = config;\r\n    this._formElement = formElement;\r\n    this._inputList = Array.from(\r\n      this._formElement.querySelectorAll(this._config.inputSelector)\r\n    );\r\n    this._buttonElement = this._formElement.querySelector(\r\n      this._config.submitButtonSelector\r\n    );\r\n  }\r\n\r\n  enableValidation() {\r\n    this._setEventListeners();\r\n  }\r\n\r\n  _setEventListeners() {\r\n    this._formElement.addEventListener(\"submit\", (evt) => {\r\n      evt.preventDefault();\r\n    });\r\n\r\n    this._inputList.forEach((inputElement) => {\r\n      inputElement.addEventListener(\"input\", () => {\r\n        this._checkInputValidity(inputElement);\r\n        this.toggleButtonState();\r\n      });\r\n    });\r\n\r\n    this.toggleButtonState();\r\n  }\r\n\r\n  _checkInputValidity(inputElement) {\r\n    if (inputElement.validity.valid) {\r\n      this.hideInputError(inputElement);\r\n    } else {\r\n      this._showInputError(inputElement);\r\n    }\r\n  }\r\n\r\n  hideInputError(inputElement) {\r\n    const errorElement = this._formElement.querySelector(\r\n      `#${inputElement.id}-error`\r\n    );\r\n    inputElement.classList.remove(this._config.inputErrorClass);\r\n    errorElement.classList.remove(this._config.errorActiveClass);\r\n    errorElement.textContent = \"\";\r\n  }\r\n\r\n  _showInputError(inputElement) {\r\n    const errorElement = this._formElement.querySelector(\r\n      `#${inputElement.id}-error`\r\n    );\r\n    inputElement.classList.add(this._config.inputErrorClass);\r\n    errorElement.textContent = inputElement.validationMessage;\r\n    errorElement.classList.add(this._config.errorActiveClass);\r\n  }\r\n\r\n  _hasInvalidInput() {\r\n    return this._inputList.some((inputElement) => !inputElement.validity.valid);\r\n  }\r\n\r\n  toggleButtonState() {\r\n    if (this._hasInvalidInput(this._inputList)) {\r\n      this._buttonElement.disabled = true;\r\n    } else {\r\n      this._buttonElement.disabled = false;\r\n    }\r\n  }\r\n}\r\n","import { popupOpened } from \"../utils/constants\";\r\nimport React from \"react\";\r\nimport FormValidator from \"../utils/FormValidator\";\r\nimport { config } from \"../utils/constants\";\r\n\r\nfunction PopupWithForm(props) {\r\n  const formRef = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    const validator = new FormValidator(config, formRef.current);\r\n    validator.enableValidation();\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup-${props.name} ${\r\n        (props.isOpen && popupOpened) || \"\"\r\n      }`}\r\n      onClick={props.handleOverlay}\r\n    >\r\n      <div className=\"popup__container container-profile\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n\r\n        <form\r\n          ref={formRef}\r\n          onSubmit={props.onSubmit}\r\n          className={`popup__form form-${props.name}`}\r\n          name={`form-${props.name}`}\r\n        >\r\n          {props.children}\r\n\r\n          <button type=\"submit\" name=\"submit\" className=\"popup__save\">\r\n            {props.buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","export function contentPopupAvatar(avatarRef) {\r\n  return (\r\n    <>\r\n      <fieldset className=\"popup__fieldset\">\r\n        <input\r\n          type=\"url\"\r\n          name=\"link\"\r\n          id=\"link-update-input\"\r\n          placeholder=\"Ссылка на аватар\"\r\n          className=\"popup__input popup__input_field_link\"\r\n          ref={avatarRef}\r\n          required\r\n        />\r\n        <span\r\n          className=\"popup__input-error\"\r\n          id=\"link-update-input-error\"\r\n        ></span>\r\n      </fieldset>\r\n    </>\r\n  );\r\n}\r\n\r\nexport function contentPopupProfile(name, description, handleChange) {\r\n  return (\r\n    <>\r\n      <fieldset className=\"popup__fieldset\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          id=\"name-profile-input\"\r\n          placeholder=\"Имя\"\r\n          className=\"popup__input popup__input_field_username\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          value={name || ''}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <span\r\n          className=\"popup__input-error\"\r\n          id=\"name-profile-input-error\"\r\n        ></span>\r\n      </fieldset>\r\n      <fieldset className=\"popup__fieldset\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"info\"\r\n          id=\"info-profile-input\"\r\n          placeholder=\"О себе\"\r\n          className=\"popup__input popup__input_field_info\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={description  || ''}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <span\r\n          className=\"popup__input-error\"\r\n          id=\"info-profile-input-error\"\r\n        ></span>\r\n      </fieldset>\r\n    </>\r\n  );\r\n}\r\n\r\nexport function contentPopupAddPlace(nameCardRef, linkCardRef) {\r\n  return (\r\n    <>\r\n      <fieldset className=\"popup__fieldset\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          id=\"name-newplace-input\"\r\n          placeholder=\"Название\"\r\n          className=\"popup__input popup__input_field_nameplace\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          ref = {nameCardRef}\r\n          required\r\n        />\r\n        <span\r\n          className=\"popup__input-error\"\r\n          id=\"name-newplace-input-error\"\r\n        ></span>\r\n      </fieldset>\r\n      <fieldset className=\"popup__fieldset\">\r\n        <input\r\n          type=\"url\"\r\n          name=\"link\"\r\n          id=\"link-newplace-input\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          className=\"popup__input popup__input_field_link\"\r\n          ref={linkCardRef}\r\n          required\r\n        />\r\n        <span\r\n          className=\"popup__input-error\"\r\n          id=\"link-newplace-input-error\"\r\n        ></span>\r\n      </fieldset>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\nexport function hideInputErrorForm (form, validator) {\r\n  form.querySelectorAll('input').forEach(input => {\r\n      validator.hideInputError(input)\r\n  })\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { contentPopupProfile } from \"../utils/utils\";\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n  const { isOpen, onClose, handleOverlay } = props;\r\n  const [buttonText, setButtonText] = React.useState(\"Сохранить\");\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChange(evt) {\r\n    evt.target.name === \"name\"\r\n      ? setName(evt.target.value)\r\n      : setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText(\"Сохранение...\");\r\n    props.onUpdateUser(\r\n      {\r\n        name,\r\n        about: description,\r\n      },\r\n      setButtonText\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      children={contentPopupProfile(name, description, handleChange)}\r\n      handleOverlay={handleOverlay}\r\n      buttonText={buttonText}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { contentPopupAvatar } from \"../utils/utils\";\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef();\r\n  const [buttonText, setButtonText] = React.useState(\"Сохранить\");\r\n\r\n  const { isOpen, onClose, handleOverlay } = props;\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText(\"Сохранение...\");\r\n    props.onUpdateAvatar(\r\n      {\r\n        avatar: avatarRef.current.value,\r\n      },\r\n      setButtonText,\r\n      e.target\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      children={contentPopupAvatar(avatarRef)}\r\n      handleOverlay={handleOverlay}\r\n      buttonText={buttonText}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { contentPopupAddPlace } from \"../utils/utils\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const nameCardRef = React.useRef();\r\n  const linkCardRef = React.useRef();\r\n  const [buttonText, setButtonText] = React.useState(\"Создать\");\r\n  const { isOpen, onClose, handleOverlay } = props;\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText(\"Создание...\");\r\n    props.onAddPlace(\r\n      {\r\n        name: nameCardRef.current.value,\r\n        link: linkCardRef.current.value,\r\n      },\r\n      setButtonText,\r\n      e.target\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"newplace\"\r\n      title=\"Новое место\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      children={contentPopupAddPlace(nameCardRef, linkCardRef)}\r\n      handleOverlay={handleOverlay}\r\n      buttonText={buttonText}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmPopup(props) {\r\n  const [buttonText, setButtonText] = React.useState(\"Да\");\r\n\r\n  const { isOpen, onClose, handleOverlay } = props;\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onConfirm(e.target, setButtonText);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"confirm\"\r\n      title=\"Вы уверены?\"\r\n      buttonText={buttonText}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      handleOverlay={handleOverlay}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ConfirmPopup;\r\n","import React from \"react\";\r\nimport \"../index.css\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport { codeEscape } from \"../utils/constants\";\r\nimport api  from \"../utils/api.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ConfirmPopup from \"./ConfirmPopup\";\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n  const [currentCard, setCurrentCard] = React.useState([]);\r\n\r\n  React.useEffect(\r\n    () =>\r\n      api\r\n        .getInitialCards()\r\n        .then((cardsData) => setCards(cardsData))\r\n        .catch((err) => alert(err)),\r\n    []\r\n  );\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) =>\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        )\r\n      );\r\n  }\r\n\r\n  function submitConfirmPopup(form, setButtonText) {\r\n    setButtonText(\"Удаление...\");\r\n\r\n    api\r\n      .deleteCard(currentCard._id)\r\n      .then(() => {\r\n        setCards(cards.filter((c) => c._id !== currentCard._id));\r\n        closeAllPopups(form);\r\n        setButtonText(\"Да\");\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n        setButtonText(\"Да\");\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    setIsConfirmPopupOpen(!isConfirmPopupOpen);\r\n    setCurrentCard(card);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getUserData()\r\n      .then((userdata) => setCurrentUser(userdata))\r\n      .catch((err) => alert(err));\r\n  }, []);\r\n\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\r\n    React.useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\r\n    React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({\r\n    name: \"\",\r\n    link: \"\",\r\n  });\r\n\r\n  const [isHoverAvatar, setIsHoverAvatar] = React.useState(false);\r\n  const [isVisibleEditAvatar, setIsVisibleEditAvatar] = React.useState(false);\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n  }\r\n\r\n  function handleEscClosePopup(evt) {\r\n    evt.keyCode === codeEscape && closeAllPopups();\r\n  }\r\n\r\n  function handleCardClick(data) {\r\n    setSelectedCard({ link: data.link, name: data.name });\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    isEditProfilePopupOpen &&\r\n      setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n    isEditAvatarPopupOpen && setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n    isAddPlacePopupOpen && setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n    isConfirmPopupOpen && setIsConfirmPopupOpen(!isConfirmPopupOpen);\r\n    selectedCard.link && setSelectedCard({ name: \"\", link: \"\" });\r\n  }\r\n\r\n  function hoverEditAvatar() {\r\n    setIsVisibleEditAvatar(!isVisibleEditAvatar);\r\n    setIsHoverAvatar(!isHoverAvatar);\r\n  }\r\n\r\n  function handleOverlayClick(evt) {\r\n    evt.target === evt.currentTarget && closeAllPopups();\r\n  }\r\n\r\n  function handleUpdateUser(data, setButtonText) {\r\n    api\r\n      .editProfile(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n        setButtonText(\"Сохранить\");\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n        setButtonText(\"Сохранить\");\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(data, setButtonText, form) {\r\n    api\r\n      .editAvatar(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups(form);\r\n        form.reset();\r\n        setButtonText(\"Сохранить\");\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n        setButtonText(\"Сохранить\");\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data, setButtonText, form) {\r\n    api\r\n      .addNewCardServer(data)\r\n      .then((res) => {\r\n        setCards([res, ...cards]);\r\n        closeAllPopups(form);\r\n        form.reset();\r\n        setButtonText(\"Создать\");\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n        setButtonText(\"Создать\");\r\n      });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    (isEditProfilePopupOpen ||\r\n      isEditAvatarPopupOpen ||\r\n      isAddPlacePopupOpen ||\r\n      selectedCard.name !== \"\") &&\r\n      document.addEventListener(\"keydown\", handleEscClosePopup);\r\n\r\n    return () => document.removeEventListener(\"keydown\", handleEscClosePopup);\r\n  });\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <div className=\"page__content\">\r\n          <Header />\r\n          <Main\r\n            isCardOpen={handleCardClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onHoverAvatar={hoverEditAvatar}\r\n            isHover={isHoverAvatar}\r\n            isVisible={isVisibleEditAvatar}\r\n            onCardDelete={handleCardDelete}\r\n            onCardLike={handleCardLike}\r\n            cards={cards}\r\n          />\r\n          <Footer />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n            handleOverlay={handleOverlayClick}\r\n          />\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            handleOverlay={handleOverlayClick}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            handleOverlay={handleOverlayClick}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n          />\r\n          <ImagePopup\r\n            onClose={closeAllPopups}\r\n            card={selectedCard}\r\n            isOpen={selectedCard.link}\r\n            handleOverlay={handleOverlayClick}\r\n          />\r\n          <ConfirmPopup\r\n            isOpen={isConfirmPopupOpen}\r\n            onClose={closeAllPopups}\r\n            handleOverlay={handleOverlayClick}\r\n            onConfirm={submitConfirmPopup}\r\n          />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}